plugins {
    id 'java-library'
    id "io.freefair.lombok" version "8.3"
    id 'java-test-fixtures'
}

group = 'pl.bratek20'
version = '0.0.1-SNAPSHOT'

java {
    sourceCompatibility = '17'
}

repositories {
    mavenCentral()
}

configurations {
    compileOnly {
        extendsFrom annotationProcessor
    }
}

dependencies {
    // spring
    implementation "org.springframework:spring-context:${springVersion}"
    implementation "org.springframework:spring-web:${springVersion}"

    testImplementation "org.springframework:spring-test:${springVersion}"

    // spring boot
    implementation "org.springframework.boot:spring-boot:${springBootVersion}"
    implementation "org.springframework.boot:spring-boot-autoconfigure:${springBootVersion}"

    testImplementation "org.springframework.boot:spring-boot-test:${springBootVersion}"

    // logging
    implementation "org.apache.logging.log4j:log4j-api:${log4jVersion}"
    implementation "org.apache.logging.log4j:log4j-core:${log4jVersion}"
    implementation "org.apache.logging.log4j:log4j-slf4j-impl:${log4jVersion}"

    // scripts
    api "commons-cli:commons-cli:${commonsCliVersion}"

    // test framework
    testImplementation "org.junit.jupiter:junit-jupiter-api:${junitVersion}"
    testRuntimeOnly "org.junit.jupiter:junit-jupiter-engine:${junitVersion}"

    testFixturesImplementation "org.junit.jupiter:junit-jupiter-api:${junitVersion}"

    // assertions
    testImplementation "org.assertj:assertj-core:${assertjVersion}"

    // web testing
    testImplementation "io.rest-assured:rest-assured:${restAssuredVersion}"
}

test {
    useJUnitPlatform()
}
